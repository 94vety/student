{"ast":null,"code":"import axios from \"axios\";\nimport { message } from \"antd\";\nexport default function requestJS(url, config) {\n  let {\n    method = \"GET\",\n    params = {},\n    data = {},\n    timeout = 3000\n  } = config;\n  console.log(method, params, data);\n  return new Promise((resolve, reject) => {\n    axios({\n      url,\n      method,\n      params,\n      data,\n      timeout,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"token\": window.sessionStorage.getItem(\"token\") || \"\"\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response) {\n        if (response.data && response.data.code) {\n          resolve(response);\n        } else {\n          message.error(\"返回的数据格式有误\");\n          resolve(response);\n        }\n      } else {\n        message.error(\"服务器错误\");\n        resolve(response);\n      }\n    }).catch(error => {\n      message.error(\"网络异常，请稍后重试\");\n      reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/wuliangrui/Desktop/库里泡/item/student/src/utils/request.js"],"names":["axios","message","requestJS","url","config","method","params","data","timeout","console","log","Promise","resolve","reject","headers","window","sessionStorage","getItem","then","response","code","error","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAyB,MAAzB;AAEA,eAAe,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,MAAxB,EAAgC;AAC3C,MAAI;AACAC,IAAAA,MAAM,GAAG,KADT;AAEAC,IAAAA,MAAM,GAAG,EAFT;AAGAC,IAAAA,IAAI,GAAG,EAHP;AAIAC,IAAAA,OAAO,GAAG;AAJV,MAKAJ,MALJ;AAMAK,EAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAAoBC,MAApB,EAA4BC,IAA5B;AAEA,SAAO,IAAII,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCb,IAAAA,KAAK,CAAC;AACFG,MAAAA,GADE;AAEFE,MAAAA,MAFE;AAGFC,MAAAA,MAHE;AAIFC,MAAAA,IAJE;AAKFC,MAAAA,OALE;AAMFM,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,iBAASC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,KAA0C;AAF9C;AANP,KAAD,CAAL,CAUGC,IAVH,CAUQC,QAAQ,IAAI;AAChBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;;AACA,UAAIA,QAAJ,EAAc;AACV,YAAIA,QAAQ,CAACZ,IAAT,IAAiBY,QAAQ,CAACZ,IAAT,CAAca,IAAnC,EAAyC;AACrCR,UAAAA,OAAO,CAACO,QAAD,CAAP;AACH,SAFD,MAEO;AACHlB,UAAAA,OAAO,CAACoB,KAAR,CAAc,WAAd;AACAT,UAAAA,OAAO,CAACO,QAAD,CAAP;AACH;AACJ,OAPD,MAOO;AACHlB,QAAAA,OAAO,CAACoB,KAAR,CAAc,OAAd;AACAT,QAAAA,OAAO,CAACO,QAAD,CAAP;AACH;AACJ,KAvBD,EAuBGG,KAvBH,CAuBSD,KAAK,IAAI;AACdpB,MAAAA,OAAO,CAACoB,KAAR,CAAc,YAAd;AACAR,MAAAA,MAAM,CAACQ,KAAD,CAAN;AACH,KA1BD;AA2BH,GA5BM,CAAP;AA6BH","sourcesContent":["import axios from \"axios\";\nimport { message }  from \"antd\";\n\nexport default function requestJS(url, config) {\n    let {\n        method = \"GET\",\n        params = {},\n        data = {},\n        timeout = 3000\n    } = config;\n    console.log(method, params, data)\n\n    return new Promise((resolve, reject) => {\n        axios({\n            url,\n            method,\n            params,\n            data,\n            timeout,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"token\": window.sessionStorage.getItem(\"token\") || \"\"\n            }\n        }).then(response => {\n            console.log(response);\n            if (response) {\n                if (response.data && response.data.code) {\n                    resolve(response);\n                } else {\n                    message.error(\"返回的数据格式有误\");\n                    resolve(response);\n                }\n            } else {\n                message.error(\"服务器错误\");\n                resolve(response)\n            }\n        }).catch(error => {\n            message.error(\"网络异常，请稍后重试\");\n            reject(error);\n        })\n    })\n} \n"]},"metadata":{},"sourceType":"module"}