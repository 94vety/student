{"ast":null,"code":"import axios from \"react\";\nimport { message } from \"antd\";\nexport default function requestJS(url, config) {\n  let {\n    method = \"GET\",\n    params = {},\n    data = {},\n    timeout = 3000\n  } = config;\n  return new Promise(() => {\n    axios({\n      url,\n      method,\n      params,\n      data,\n      timeout,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"token\": window.sessionStorage.getItem(\"token\") || \"\"\n      }\n    }).then(response => {\n      if (response) {\n        if (response.data && response.data.code) {\n          resolve(response);\n        } else {\n          message.error(\"返回的数据格式有误\");\n          resolve(response);\n        }\n      } else {\n        message.error(\"服务器错误\");\n        resolve(response);\n      }\n    }).catch(error => {\n      message.error(\"网络异常，请稍后重试\");\n      reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/wuliangrui/Desktop/库里泡/item/student/src/utils/request.js"],"names":["axios","message","requestJS","url","config","method","params","data","timeout","Promise","headers","window","sessionStorage","getItem","then","response","code","resolve","error","catch","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAyB,MAAzB;AAEA,eAAe,SAASC,SAAT,CAAmBC,GAAnB,EAAwBC,MAAxB,EAAgC;AAC3C,MAAI;AACAC,IAAAA,MAAM,GAAG,KADT;AAEAC,IAAAA,MAAM,GAAG,EAFT;AAGAC,IAAAA,IAAI,GAAG,EAHP;AAIAC,IAAAA,OAAO,GAAG;AAJV,MAKAJ,MALJ;AAOA,SAAO,IAAIK,OAAJ,CAAY,MAAM;AACrBT,IAAAA,KAAK,CAAC;AACFG,MAAAA,GADE;AAEFE,MAAAA,MAFE;AAGFC,MAAAA,MAHE;AAIFC,MAAAA,IAJE;AAKFC,MAAAA,OALE;AAMFE,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,iBAASC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,KAA0C;AAF9C;AANP,KAAD,CAAL,CAUGC,IAVH,CAUQC,QAAQ,IAAI;AAChB,UAAIA,QAAJ,EAAc;AACV,YAAIA,QAAQ,CAACR,IAAT,IAAiBQ,QAAQ,CAACR,IAAT,CAAcS,IAAnC,EAAyC;AACrCC,UAAAA,OAAO,CAACF,QAAD,CAAP;AACH,SAFD,MAEO;AACHd,UAAAA,OAAO,CAACiB,KAAR,CAAc,WAAd;AACAD,UAAAA,OAAO,CAACF,QAAD,CAAP;AACH;AACJ,OAPD,MAOO;AACHd,QAAAA,OAAO,CAACiB,KAAR,CAAc,OAAd;AACAD,QAAAA,OAAO,CAACF,QAAD,CAAP;AACH;AACJ,KAtBD,EAsBGI,KAtBH,CAsBSD,KAAK,IAAI;AACdjB,MAAAA,OAAO,CAACiB,KAAR,CAAc,YAAd;AACAE,MAAAA,MAAM,CAACF,KAAD,CAAN;AACH,KAzBD;AA0BH,GA3BM,CAAP;AA4BH","sourcesContent":["import axios from \"react\";\nimport { message }  from \"antd\";\n\nexport default function requestJS(url, config) {\n    let {\n        method = \"GET\",\n        params = {},\n        data = {},\n        timeout = 3000\n    } = config;\n\n    return new Promise(() => {\n        axios({\n            url,\n            method,\n            params,\n            data,\n            timeout,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"token\": window.sessionStorage.getItem(\"token\") || \"\"\n            }\n        }).then(response => {\n            if (response) {\n                if (response.data && response.data.code) {\n                    resolve(response);\n                } else {\n                    message.error(\"返回的数据格式有误\");\n                    resolve(response);\n                }\n            } else {\n                message.error(\"服务器错误\");\n                resolve(response)\n            }\n        }).catch(error => {\n            message.error(\"网络异常，请稍后重试\");\n            reject(error);\n        })\n    })\n} \n"]},"metadata":{},"sourceType":"module"}